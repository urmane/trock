
startx = 0
starty = 2
endx = 63
endy = 2

defineTile(".", "GRASS")
defineTile("s", "SIGN")
defineTile(":", "PAVED_ROAD")
defineTile("~", "DEEP_WATER")
defineTile("#", "WALL")
defineTile("_", "WALL", nil, nil, nil, {on_block_change="GRASS", on_block_change_msg="You've discovered a secret passage!"})
defineTile("^", "GRAVESTONE")
defineTile("'", "DOOR_OPEN")
defineTile("+", "DOOR_LOCKED")
defineTile("=", "FENCE")
defineTile("|", "TREE")
defineTile("F", "FOUNTAIN")
defineTile("W", "TO_WORLDMAP")
defineTile("G", "TO_GRAVEYARD")
defineTile("C", "TO_CASTLEKURTOK")
defineTile("g", "GRASS", {random_filter={type="gem"}})
defineTile("p", "GRASS", nil, {random_filter={name="townperson"}})
defineTile("1", nil, nil, nil, "FENSTER_FENCE")

defineTile("2", "FLOOR", nil, "STRAWMAN")

subGenerator{
    x = 0, y = 14, w = 28, h = 38,
    generator = "engine.generator.map.Town",
    data = {
		building_chance = 90,
		lshape_chance = 80,
		double_lshape_chance = 80,
        max_building_w = 9, max_building_h = 9,
        edge_entrances = {6,4},
        floor = "WALL",
        wall = "WALL",
        door = "DOOR_HOUSE",
        external_floor = "GRASS",
        up = "GRASS",
        down = "GRASS",
        nb_rooms = false,
        rooms = false,
    },
}

subGenerator{
    x = 34, y = 6, w = 29, h = 36,
    generator = "engine.generator.map.Town",
    data = {
		building_chance = 90,
		lshape_chance = 80,
		double_lshape_chance = 80,
        max_building_w = 9, max_building_h = 9,
        edge_entrances = {6,4},
        floor = "WALL",
        wall = "WALL",
        door = "DOOR_HOUSE",
        external_floor = "GRASS",
        up = "GRASS",
        down = "GRASS",
        nb_rooms = false,
        rooms = false,
    },
}

return [[||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
|^^^.s.........................................................|
G::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::W
|................p.............:.....p.........................|
|_|||||=======================.:.==============================|
|.###.......#.......###........:...............................|
|.#########.#.#####.#.#.#####..:...............................|
|.#1#|#.....#.#...#.#+#.#...#..:...............................|
|g...|###p....+.###.....#...+..:...............................|
|=====#.......###.#######...#..:...............................|
|######..######.+.+.....#####..:...............................|
|.###.##...+..###.#######......:...............................|
|...#.##.######.+..............:...............................|
|####.........###..............:...............................|
|..............................:...............................|
|..............................:...............................|
|..............................:...............................|
|..............................:...............................|
|..............................:...............................|
|..............................:...............................|
|..............................:...............................|
|..............................:...............................|
|..............................:...............................|
|..............................:...............................|
|..............................:...............................|
|..............................:...............................|
|..............................:...............................|
|..............................:...............................|
|............................pp:p..............................|
|............................||:||.............................|
|..........................p.|:::|p............................|
|...........................:::F:::............................|
|..........................p||:::||p...........................|
|............................|:::|.............................|
|............................|:::|.............................|
|............................|:::|.............................|
|............................|:::|.............................|
|............................|:::|.............................|
|............................|:::|.............................|
|............................|:::|.............................|
|............................|:::|.............................|
|............................|:::|.............................|
|............................|:::::::::::::::::::..............|
|............................|:::|##############'##############|
|............................|:::|#...........................#|
|............................|:::|#...........................#|
|............................|:::|#...........................#|
|............................|:::|#...........................#|
|............................|:::|#...........................#|
|............................|:::|#...........................#|
|............................|:::|##.................#........#|
|............................|:::||###################'########|
|............................|:::2|............................|
|============================='''============================='|
|..=........................................................=..|
|..=........................................................=..|
|..###########################+++############################..|
|..#........................................................#..|
|..#........................................................#..|
|..#........................................................#..|
|..#C.......................................................#..|
|..###########################'''############################.=|
|...=.+......................'...'.......................'....=|
|##############################################################|]]
